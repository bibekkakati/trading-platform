(this["webpackJsonptrading-app"]=this["webpackJsonptrading-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(51),s=a.n(r),o=(a(61),a(2)),l=a(3),i=a(4),d=a(5),u=a(30),m=a(19),p=(a(35),a(62),a(63),a(21)),h=a(27),v=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={menuState:0},e.openRoute=function(t){e.setState({menuState:t}),e.props.openRoute(t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"menubar"},c.a.createElement("div",{className:"icon user"},c.a.createElement(p.c,null)),c.a.createElement("div",{className:0===this.state.menuState?"icon active":"icon"},c.a.createElement(h.b,{onClick:function(){return e.openRoute(0)}})),c.a.createElement("div",{className:"icon"},c.a.createElement(p.e,null)),c.a.createElement("div",{className:1===this.state.menuState?"icon active":"icon"},c.a.createElement(p.b,{onClick:function(){return e.openRoute(1)}})),c.a.createElement("div",{className:2===this.state.menuState?"icon active":"icon"},c.a.createElement(p.d,{onClick:function(){return e.openRoute(2)}})),c.a.createElement("div",{className:"icon"},c.a.createElement(p.a,{onClick:this.props.showNotification})))}}]),a}(n.PureComponent),g=function(e){return c.a.createElement("div",{className:"sidebar"},c.a.createElement(v,{openRoute:e.openRoute,showNotification:e.showNotification}))},f=a(9),E=a(10),N=a(12),y=a.n(N),b=a(17),x=(a(65),{1:"marketdata",2:"compact_marketdata",3:"snapquote",4:"full_snapquote",5:"spreaddata",6:"spread_snapquote",7:"dpr",8:"oi",9:"market_status",10:"exchange_messages"}),O={1:"NSE",2:"NFO",3:"CDS",4:"MCX",6:"BSE",7:"BFO"},S={1:100,2:100,3:1e7,4:100,6:100,7:100},k={1:2,2:2,3:4,4:2,6:2,7:2},C=function(e){return new Promise((function(t,a){var n=new WebSocket("wss://ant.aliceblueonline.com/hydrasocket/v2/websocket?access_token="+e);n?(n.onopen=function(){setInterval((function(){n.send({a:"h",v:[],m:""})}),5e3),t({msg:"Connected to WebSocket",ws:n})},n.onerror=function(e){a({error:"WebSocket connection failed"})}):a({error:"WebSocket connection failed"})}))},w=function(e,t,a){e.send(JSON.stringify({a:"subscribe",v:t,m:x[a]}))},I=function(e,t,a){e.send(JSON.stringify({a:"unsubscribe",v:t,m:x[a]}))},j=function(e){return new Promise((function(t,a){var n={};n.mode=new DataView(e.slice(0,1,"int8")),n.mode=n.mode.getInt8(0).toString(10),n.exchangeCode=new DataView(e.slice(1,2,"int8")),n.exchangeCode=n.exchangeCode.getInt8(0).toString(10),n.exchange=O[n.exchangeCode];var c=S[n.exchangeCode],r=k[n.exchangeCode];if("2"===n.mode)n.instrumentToken=new DataView(e.slice(2,6,"int32")),n.instrumentToken=n.instrumentToken.getInt32(0).toString(10),n.ltp=new DataView(e.slice(6,10,"int32")),n.ltp=n.ltp.getInt32(0).toString(10),n.ltp=(n.ltp/c).toFixed(2),n.change=new DataView(e.slice(10,14,"int32")),n.change=n.change.getInt32(0).toString(10),n.change=(n.change/c).toFixed(r);else if("1"===n.mode)n.orderInstrumentToken=new DataView(e.slice(2,6,"int32")),n.orderInstrumentToken=n.orderInstrumentToken.getInt32(0).toString(10),n.volume=new DataView(e.slice(18,22,"int32")),n.volume=n.volume.getInt32(0).toString(10),n.ltp=new DataView(e.slice(6,10,"int32")),n.ltp=n.ltp.getInt32(0).toString(10),n.ltp=(n.ltp/c).toFixed(r),n.tbq=new DataView(e.slice(38,46,"int64")),n.tbq=n.tbq.getBigInt64(0).toString(10),n.tsq=new DataView(e.slice(46,54,"int64")),n.tsq=n.tsq.getBigInt64(0).toString(10),n.atp=new DataView(e.slice(54,58,"int32")),n.atp=n.atp.getInt32(0).toString(10),n.atp=(n.atp/c).toFixed(r),n.openPrice=new DataView(e.slice(62,66,"int32")),n.openPrice=n.openPrice.getInt32(0).toString(10),n.openPrice=(n.openPrice/c).toFixed(r),n.highPrice=new DataView(e.slice(66,70,"int32")),n.highPrice=n.highPrice.getInt32(0).toString(10),n.highPrice=(n.highPrice/c).toFixed(r),n.lowPrice=new DataView(e.slice(70,74,"int32")),n.lowPrice=n.lowPrice.getInt32(0).toString(10),n.lowPrice=(n.lowPrice/c).toFixed(r),n.closePrice=new DataView(e.slice(74,78,"int32")),n.closePrice=n.closePrice.getInt32(0).toString(10),n.closePrice=(n.closePrice/c).toFixed(r),n.change=(n.ltp-n.closePrice).toFixed(r);else if("3"===n.mode){n.orderInstrumentToken=new DataView(e.slice(2,6,"int32")),n.orderInstrumentToken=n.orderInstrumentToken.getInt32(0).toString(10);for(var s=[],o=[],l=[],i=[],d=0,u=0,m=0;m<5;m++){var p=new DataView(e.slice(26+4*m,30+4*m,"int32")),h=new DataView(e.slice(46+4*m,50+4*m,"int32")),v=new DataView(e.slice(86+4*m,90+4*m,"int32")),g=new DataView(e.slice(106+4*m,110+4*m,"int32"));p=(p.getInt32(0).toString(10)/c).toFixed(r),h=h.getInt32(0).toString(10),h=parseInt(h),d=Math.max(d,h),v=(v.getInt32(0).toString(10)/c).toFixed(r),g=g.getInt32(0).toString(10),g=parseInt(g),u=Math.max(u,g),s[m]=p,l[m]=h,o[m]=v,i[m]=g}n.topBidPrice=s,n.topAskPrice=o,n.topBidQty=l,n.topAskQty=i,n.bidmax=d,n.askmax=u}t(n)}))},_=Object(n.createContext)(),M=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={clientsList:{},activeClients:[],notification:[],ws:"",exchange:"",exchangeCode:"",orderInstrumentToken:"",topAskPrice:[0,0,0,0,0],topAskQty:[0,0,0,0,0],topBidPrice:[0,0,0,0,0],topBidQty:[0,0,0,0,0],bidmax:0,askmax:0,tbq:0,tsq:0,upperCircuit:"NA",lowerCircuit:"NA",volume:"NA",atp:0,openPrice:0,highPrice:0,lowPrice:0,closePrice:0,change:0,lltp:0,ltp:0,symbol:"",nifty50:{ltp:0,change:0,lltp:0},sensex:{ltp:0,change:0,lltp:0},updateData:function(t){e.setState(t)}},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(_.Provider,{value:Object(f.a)({},this.state)},this.props.children)}}]),a}(n.PureComponent),T=Object(n.createContext)(),D=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={instruments:[],compactDataList:[],updateData:function(t){e.setState(t)}},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(T.Provider,{value:Object(f.a)({},this.state)},this.props.children)}}]),a}(n.PureComponent),P=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({online:!0}),n.connectWebsocket(),window.addEventListener("offline",(function(e){n.setState({online:!1}),console.log("offline")})),window.addEventListener("online",(function(e){n.setState({online:!0}),n.state.ws||n.connectWebsocket(),console.log("online")}))},n.connectWebsocket=Object(b.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadClients();case 2:t="",n.context.activeClients.length>0&&(t=n.context.clientsList[n.context.activeClients[0]]),C(t).then((function(e){n.ws=e.ws,n.context.updateData({ws:e.ws}),console.log(e.msg),n.setState({ws:!0}),n.currentScrip(),n.currentInstruments(),n.loadIndex(),n.ws.onmessage=function(e){e.data.arrayBuffer().then(function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:a=e.sent,n.whichStatesToUpdate(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n.ws.onerror=function(e){console.log("Websocket connection closed")},n.ws.onclose=function(e){n.setState({ws:!1}),n.context.updateData({ws:""}),e.wasClean?console.log("Websocket connection closed"):console.log("Websocket connection disconnected"),n.state.online&&n.connectWebsocket()}})).catch((function(e){console.log(e.error)}));case 5:case"end":return e.stop()}}),e)}))),n.loadClients=function(){return new Promise((function(e){var t,a=localStorage.getItem("clientslist"),c={},r=[];if(null!==a)for(var s in a=JSON.parse(a))null!==(t=localStorage.getItem(s))&&(c[s]=t,r.push(s));n.context.updateData({clientsList:c,activeClients:r}),e(!0)}))},n.loadIndex=function(){w(n.ws,[[1,26e3]],"2"),w(n.ws,[[6,1]],"2")},n.currentScrip=function(){return new Promise((function(e){var t=localStorage.getItem("currentFullScrip");t&&(t=JSON.parse(t),w(n.ws,[t.actionData],"1"),w(n.ws,[t.actionData],"3"),n.context.updateData({symbol:t.symbol,exchange:t.exchange,orderInstrumentToken:t.actionData[1],exchangeCode:t.actionData[0]})),e(!0)}))},n.currentInstruments=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem("compactDataList")),a=JSON.parse(localStorage.getItem("instruments"));t&&a?n.compactContext.updateData({compactDataList:t,instruments:a}):e(!0);for(var c="",r=0;r<a.length;r++)c=a[r],w(n.ws,[[c.exchangeCode,c.token]],"2");e(!0)}))},n.whichStatesToUpdate=function(e){switch(e.mode){case"1":e.lltp=e.ltp===n.context.ltp?n.context.lltp:n.context.ltp,n.updateMarketData(e);break;case"3":n.updateMarketData(e);break;case"2":n.updateCompactData(e)}},n.updateMarketData=function(e){n.context.updateData(e)},n.updateCompactData=function(e){if("26000"===e.instrumentToken){var t={ltp:e.ltp,change:e.change,lltp:e.ltp===n.context.nifty50.ltp?n.context.nifty50.lltp:n.context.nifty50.ltp};n.context.updateData({nifty50:t})}else if("1"===e.instrumentToken){var a={ltp:e.ltp,change:e.change,lltp:e.ltp===n.context.sensex.ltp?n.context.sensex.lltp:n.context.sensex.ltp};n.context.updateData({sensex:a})}else for(var c=Object(E.a)(n.compactContext.instruments),r=0;r<c.length;r++)if(c[r].token===e.instrumentToken){var s=Object(f.a)({},c[r]);return s.ltp=e.ltp,s.lltp=e.ltp===c[r].ltp?c[r].lltp:c[r].ltp,s.change=e.change,c[r]=s,void n.compactContext.updateData({instruments:c})}},n.updateContext=function(e){n.compactContext=e},n.state={ws:!1,online:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(T.Consumer,null,(function(t){return e.updateContext(t),c.a.createElement("div",{className:"panel"},e.props.children)}))}}]),a}(n.PureComponent);P.contextType=_;var A=Object(n.createContext)(),L=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={selectedId:"",client_token:"",pendingOrders:{},completedOrders:{},trades:{},allOrders:{},updateData:function(t){e.setState(t)}},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(A.Provider,{value:Object(f.a)({},this.state)},this.props.children)}}]),a}(n.PureComponent),B=(a(66),a(36),a(11)),F=a(31),R=a.n(F);a(67),a(69);R.a.initializeApp({apiKey:"AIzaSyCL7D1HpIMx6rsFeB-MiZW4h7SyOl8RFQg",authDomain:"trading-app-58ab4.firebaseapp.com",databaseURL:"https://trading-app-58ab4.firebaseio.com",projectId:"trading-app-58ab4",storageBucket:"trading-app-58ab4.appspot.com",messagingSenderId:"473180372541",appId:"1:473180372541:web:780488d1046521219b7454",measurementId:"G-THRS02Z5L2"});var q=R.a,V=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={signoutdisplay:"none",photoURL:""},e.componentDidMount=function(){var t=JSON.parse(localStorage.getItem("userdata"));(null!=t||(t=q.auth().currentUser))&&e.setState({photoURL:t.photoURL})},e.openModal=function(){e.props.openModal("0")},e.openAddClientModal=function(){e.props.openAddClientModal()},e.signout=function(){e.setState({signoutdisplay:"none"}),q.auth().signOut().then((function(){localStorage.removeItem("authtoken"),e.props.history.push("/")})).catch((function(e){e&&alert(e)}))},e.profileClicked=function(){"none"===e.state.signoutdisplay?e.setState({signoutdisplay:"block"}):e.setState({signoutdisplay:"none"})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=Math.sign(this.context.sensex.ltp-this.context.sensex.lltp).toString(),t=Math.sign(this.context.nifty50.ltp-this.context.nifty50.lltp).toString(),a=this.context.sensex.change>=0?c.a.createElement(B.b,{className:"up"}):c.a.createElement(B.a,{className:"down"}),n=this.context.nifty50.change>=0?c.a.createElement(B.b,{className:"up"}):c.a.createElement(B.a,{className:"down"});return c.a.createElement("div",{className:"topbar"},c.a.createElement("p",{className:"title"},"My Dashboard"),c.a.createElement("div",{className:"liveindex"},c.a.createElement("div",{className:"ticker"},c.a.createElement("p",{className:"index"},"SENSEX"),c.a.createElement("div",{className:"tick"},c.a.createElement("p",{className:"point","data-change":e},this.context.sensex.ltp),c.a.createElement("p",{className:"change"},"(",this.context.sensex.change," ",a,")"))),c.a.createElement("div",{className:"ticker"},c.a.createElement("p",{className:"index"},"NIFTY 50"),c.a.createElement("div",{className:"tick"},c.a.createElement("p",{className:"point","data-change":t},this.context.nifty50.ltp),c.a.createElement("p",{className:"change"},"(",this.context.nifty50.change," ",n,")")))),c.a.createElement("div",{className:"right"},c.a.createElement("button",{className:"addclient",onClick:this.openAddClientModal},c.a.createElement(B.c,{className:"plusicon"})," \xa0\xa0 ADD CLIENT"),c.a.createElement("div",{className:"search",onClick:this.openModal},c.a.createElement(B.d,null)),c.a.createElement("img",{src:this.state.photoURL,alt:"",className:"profile",onClick:this.profileClicked}),c.a.createElement("p",{className:"signout",style:{display:this.state.signoutdisplay},onClick:this.signout},"Sign Out")))}}]),a}(n.PureComponent);V.contextType=_;var U=Object(m.f)(V),Y=(a(76),a(18)),Q=function(e,t){var a=e;a.code===t.orderInstrumentToken&&(I(t.ws,[[a.exchange_code,a.code]],"1"),I(t.ws,[[a.exchange_code,a.code]],"3"),t.updateData({exchange:"",exchangeCode:"",mode:"",orderInstrumentToken:"",topAskPrice:[0,0,0,0,0],topAskQty:[0,0,0,0,0],topBidPrice:[0,0,0,0,0],topBidQty:[0,0,0,0,0],bidmax:0,askmax:0,tbq:0,tsq:0,upperCircuit:"NA",lowerCircuit:"NA",volume:"NA",atp:0,openPrice:0,highPrice:0,lowPrice:0,closePrice:0,change:0,lltp:0,ltp:0,symbol:""}),localStorage.removeItem("currentFullScrip"))},J=function(e,t){var a=e;t.orderInstrumentToken&&t.symbol&&(I(t.ws,[[t.exchangeCode,t.orderInstrumentToken]],"1"),I(t.ws,[[t.exchangeCode,t.orderInstrumentToken]],"3")),t.updateData({orderInstrumentToken:a.code,exchangeCode:a.exchange_code,symbol:a.symbol,exchange:a.exchange,topAskPrice:[0,0,0,0,0],topAskQty:[0,0,0,0,0],topBidPrice:[0,0,0,0,0],topBidQty:[0,0,0,0,0],bidmax:0,askmax:0,tbq:0,tsq:0,upperCircuit:"NA",lowerCircuit:"NA",volume:"NA",atp:0,openPrice:0,highPrice:0,lowPrice:0,closePrice:0,change:0,lltp:0,ltp:0}),w(t.ws,[[a.exchange_code,a.code]],"1"),w(t.ws,[[a.exchange_code,a.code]],"3"),localStorage.setItem("currentFullScrip",JSON.stringify({actionData:[a.exchange_code,a.code],symbol:a.symbol,exchange:a.exchange}))},W=function(e,t,a){var n=e,c=Object(E.a)(t.compactDataList),r=Object(E.a)(t.instruments),s={exchangeCode:n.exchange_code,exchange:n.exchange,symbol:n.symbol,token:n.code,ltp:0,lltp:0,change:0};r.push(s),c.push(n.code),t.updateData({instruments:r,compactDataList:c}),localStorage.setItem("compactDataList",JSON.stringify(c)),(r=JSON.parse(localStorage.getItem("instruments")))?r.push({exchangeCode:n.exchange_code,exchange:n.exchange,symbol:n.symbol,token:n.code}):(r=[]).push({exchangeCode:n.exchange_code,exchange:n.exchange,symbol:n.symbol,token:n.code}),localStorage.setItem("instruments",JSON.stringify(r)),w(a,[[n.exchange_code,n.code]],"2")},G=function(e,t,a){var n=e,c=Object(E.a)(t.compactDataList),r=Object(E.a)(t.instruments),s=c.indexOf(n.code);I(a,[[n.exchange_code,n.code]],"2"),s>-1&&(c.splice(s,1),r.splice(s,1)),t.updateData({instruments:r,compactDataList:c}),(r=JSON.parse(localStorage.getItem("instruments")))&&(r.splice(s,1),localStorage.setItem("instruments",JSON.stringify(r))),localStorage.setItem("compactDataList",JSON.stringify(c))},z=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).checkTrendDirection=function(e){return e.ltp>=e.close?c.a.createElement(B.b,{className:"up"}):c.a.createElement(B.a,{className:"down"})},n.scrollRight=function(){n.scroll.current&&(n.scroll.current.scrollLeft+=340)},n.scrollLeft=function(){n.scroll.current&&(n.scroll.current.scrollLeft-=340)},n.openModal=function(e){n.props.openModal(e)},n.removeScrip=function(e,t){var a=Object(E.a)(n.context.instruments),c={};c.exchange_code=a[t].exchangeCode,c.code=a[t].token,G(c,n.context,e.ws)},n.moveScrip=function(e,t){var a={};a.exchange_code=n.context.instruments[t].exchangeCode,a.code=n.context.instruments[t].token,a.symbol=n.context.instruments[t].symbol,a.exchange=n.context.instruments[t].exchange,n.removeScrip(e,t),J(a,e)},n.scroll=c.a.createRef(),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(_.Consumer,null,(function(t){for(var a=[],n=function(n){var r=e.context.instruments[n].change>=0?c.a.createElement(B.b,{className:"up"}):c.a.createElement(B.a,{className:"down"}),s=Math.sign(e.context.instruments[n].ltp-e.context.instruments[n].lltp).toString();a.push(c.a.createElement("div",{className:"instrument",key:n,onDoubleClick:function(){return e.moveScrip(t,n)}},c.a.createElement("div",{className:"scripaction"},c.a.createElement(Y.d,{className:"removesign",onClick:function(){return e.removeScrip(t,n)}})),c.a.createElement("p",{className:"index"},e.context.instruments[n].symbol),c.a.createElement("small",{className:"exch"},e.context.instruments[n].exchange),c.a.createElement("div",{className:"tick"},c.a.createElement("p",{className:"point","data-change":s},e.context.instruments[n].ltp),c.a.createElement("p",{className:"change"},"(",e.context.instruments[n].change," ",r,")"))))},r=0;r<e.context.instruments.length;r++)n(r);return c.a.createElement("div",{className:"instrumentlist"},c.a.createElement("div",{className:"controller"},c.a.createElement(Y.b,{className:"arrow",onClick:e.scrollLeft}),c.a.createElement(Y.c,{className:"arrow",onClick:e.scrollRight})),c.a.createElement("div",{className:"instrumentcards",ref:e.scroll},a,c.a.createElement("div",{className:"addScripButton",onClick:function(){return e.openModal("1")}},c.a.createElement(Y.a,{className:"addbtn"})),"\xa0"))}))}}]),a}(n.PureComponent);z.contextType=T;a(77),a(40);var H=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){for(var e,t=[],a=0,n=0;n<5;n++)a=this.context.topAskQty[n]/this.context.askmax*80,e=this.context.topBidQty[n]/this.context.bidmax*80,t.push(c.a.createElement("div",{className:"row",key:n},c.a.createElement("div",{className:"block qtybar lp",style:{background:"linear-gradient(to left, #d8f0d1 "+e+"%, #ffffff00 0%)"}},c.a.createElement("p",{className:"value qty"},this.context.topBidQty[n]),c.a.createElement("p",{className:"value lv"},this.context.topBidPrice[n])),c.a.createElement("div",{className:"block qtybar rp",style:{background:"linear-gradient(to right, #f0d1d1 "+a+"%, #ffffff00 0%)"}},c.a.createElement("p",{className:"value rv"},this.context.topAskPrice[n]),c.a.createElement("p",{className:"value qty"},this.context.topAskQty[n]))));return c.a.createElement("div",{className:"details depth"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"title"},"Quantity"),c.a.createElement("p",{className:"value bid"},"Bid")),c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"value ask"},"Ask"),c.a.createElement("p",{className:"title"},"Quantity"))),t,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"value bid"},this.context.tbq),c.a.createElement("p",{className:"value bid"},"TBQ")),c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"value ask"},"TSQ"),c.a.createElement("p",{className:"value ask"},this.context.tsq))))}}]),a}(n.Component);H.contextType=_;var K=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"instrumentdata"},c.a.createElement(H,null),c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key"},"Volume"),c.a.createElement("p",{className:"value lv"},this.context.volume)),c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key rv"},"Open"),c.a.createElement("p",{className:"value"},this.context.openPrice))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key"},"Upper Circuit"),c.a.createElement("p",{className:"value lv"},this.context.upperCircuit)),c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key rv"},"High"),c.a.createElement("p",{className:"value"},this.context.highPrice))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key"},"Lower Circuit"),c.a.createElement("p",{className:"value lv"},this.context.lowerCircuit)),c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key rv"},"Low"),c.a.createElement("p",{className:"value"},this.context.lowPrice))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key"},"ATP"),c.a.createElement("p",{className:"value lv"},this.context.atp)),c.a.createElement("div",{className:"block"},c.a.createElement("p",{className:"key rv"},"Close"),c.a.createElement("p",{className:"value"},this.context.closePrice)))))}}]),a}(n.PureComponent);K.contextType=_;var X=a(7),Z=(a(78),a(41),a(42).default),$="https://ant.aliceblueonline.com/api/v2/",ee=function(e,t){var a="".concat($,"order?oms_order_id=").concat(e,"&order_status=open");return new Promise((function(e,n){Z({method:"delete",url:a,headers:{Authorization:"Bearer "+t}}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))},te=function(e,t,a,n,c,r,s,o,l,i,d){var u="".concat($,"order");return new Promise((function(m,p){Z.put(u,{oms_order_id:e,instrument_token:t,exchange:a,transaction_type:n,product:c,validity:r,order_type:s,price:o,trigger_price:l,quantity:i,disclosed_quantity:0},{headers:{Authorization:"Bearer "+d}}).then((function(e){m(e.data)})).catch((function(e){p(e)}))}))},ae=function(e){var t="".concat($,"order");return new Promise((function(a,n){Z({method:"get",url:t,headers:{Authorization:"Bearer "+e}}).then((function(e){a(e.data)})).catch((function(e){n(e)}))}))},ne=function(e){var t="".concat($,"trade");return new Promise((function(a,n){Z({method:"get",url:t,headers:{Authorization:"Bearer "+e}}).then((function(e){a(e.data)})).catch((function(e){n(e)}))}))},ce=function(e,t,a,n,c,r,s,o,l,i,d,u){var m="".concat($,"order");return new Promise((function(p,h){Z.post(m,{exchange:t,order_type:a,instrument_token:n,quantity:c,disclosed_quantity:r,price:s,transaction_type:o,trigger_price:l,validity:i,product:d,source:"web",order_tag:u},{headers:{Accept:"application/json",Authorization:"Bearer "+e}}).then((function(e){p(e.data)})).catch((function(e){h(e)}))}))},re=function(e,t,a,n,c,r,s,o,l,i,d,u,m,p,h){var v="".concat($,"bracketorder");return new Promise((function(g,f){Z.post(v,{exchange:t,order_type:a,instrument_token:n,quantity:c,disclosed_quantity:r,square_off_value:s,stop_loss_value:o,price:l,transaction_type:d,trigger_price:u,trailing_stop_loss:i,validity:m,product:p,source:"web",order_tag:h},{headers:{Accept:"application/json",Authorization:"Bearer "+e}}).then((function(e){g(e.data)})).catch((function(e){f(e)}))}))},se=function(e,t,a,n){return new Promise((function(c,r){Z.post("http://ec2-13-234-20-34.ap-south-1.compute.amazonaws.com:8080/login",{client_id:e,client_secret:t,password:a,twofa:n},{headers:{Accept:"application/json"}}).then((function(e){c(e.data)})).catch((function(e){r(e)}))}))},oe=function(e,t,a,n,c,r,s,o,l,i,d,u){var m="".concat($,"amo");return new Promise((function(p,h){Z.post(m,{exchange:t,order_type:a,instrument_token:n,quantity:c,disclosed_quantity:r,price:s,transaction_type:o,trigger_price:l,validity:i,product:d,source:"web",order_tag:u},{headers:{Accept:"application/json",Authorization:"Bearer "+e}}).then((function(e){p(e.data)})).catch((function(e){h(e)}))}))},le=q.firestore(),ie=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updateNotificationList=function(e){var t=Object(E.a)(n.context.notification);t.push(e),n.context.updateData({notification:t})},n.updateOrdersToDB=function(e,t,a){le.collection(e).doc(t).set(a,{merge:!0}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))},n.placeOrder=function(){var e=new Date,t="".concat(e.getFullYear(),"_").concat(e.getMonth()+1,"_").concat(e.getDate()),a="".concat(Date.now()),c=Object(f.a)({},n.context.clientsList),r=Object(E.a)(n.context.activeClients),s=n.context.orderInstrumentToken,o=n.context.exchange,l=n.context.symbol,i="3"===n.context.exchangeCode?4:2,d=n.state.orderSide.toUpperCase(),u=n.state.ordertype.toUpperCase(),m=parseFloat(n.state.trailingsl).toFixed(i),p=parseFloat(n.state.stoploss).toFixed(i),h=parseInt(n.state.orderperac),v=parseFloat(n.state.price).toFixed(i),g=parseInt(n.state.quantity),N=parseInt(n.state.disclosedquantity),y=parseFloat(n.state.triggerprice).toFixed(i),b=parseFloat(n.state.target).toFixed(i),x=n.state.position.toUpperCase(),O=n.state.validity.toUpperCase(),S=n.state.complexity.toUpperCase(),k="",C=a,w={},I={};switch(I.token=s,I.symbol=l,I.exchange=o,I.side=d,I.quantity=g,I.price=v,I.product=x,I.triggerprice=y,I.validity=O,I.order_type=u,u){case"MARKET":v=0,y=0;break;case"LIMIT":y=0;break;case"SLM":v=0}if("SIMPLE"===S)for(var j=function(e){k=c[r[e]];for(var i=[],m=0;m<h;m++)ce(k,o,u,s,g,N,v,d,y,O,x,C).then((function(c){"success"===c.status?(i.push(c.data.oms_order_id),w[r[e]]=i,n.updateOrdersToDB("allorder",t,Object(X.a)({},a,w)),n.props.updateNotification({type:"success",message:"".concat(r[e]," : ").concat(l," : ").concat(c.message)},!0),n.updateNotificationList({type:"success",message:"".concat(r[e]," : ").concat(l," :  ").concat(c.message),time:a})):(n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order")},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order"),time:a}))})).catch((function(t){n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t)},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t),time:a})}))},_=0;_<r.length;_++)j(_);else if("CO"===S)for(var M=function(e){k=c[r[e]];for(var i=[],m=0;m<h;m++)ce(k,o,u,s,g,N,v,d,p,O,S,C).then((function(c){"success"===c.status?(i.push(c.data),w[r[e]]=i,n.updateOrdersToDB("allorder",t,Object(X.a)({},a,w)),n.props.updateNotification({type:"success",message:"".concat(r[e]," : ").concat(l," :  ").concat(c.message)},!0),n.updateNotificationList({type:"success",message:"".concat(r[e]," : ").concat(l," :  ").concat(c.message),time:a})):(n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order")},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order"),time:a}))})).catch((function(t){n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t)},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t),time:a})}))},T=0;T<r.length;T++)M(T);else if("BO"===S)for(var D=function(e){k=c[r[e]];for(var i=[],f=0;f<h;f++)re(k,o,u,s,g,N,b,p,v,m,d,y,O,x,C).then((function(c){"success"===c.status?(i.push(c.data),w[r[e]]=i,n.updateOrdersToDB("allorder",t,Object(X.a)({},a,w)),n.props.updateNotification({type:"success",message:"".concat(r[e]," : ").concat(l," :  ").concat(c.message)},!0),n.updateNotificationList({type:"success",message:"".concat(r[e]," : ").concat(l," :  ").concat(c.message),time:a})):(n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order")},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order"),time:a}))})).catch((function(t){n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t)},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t),time:a})}))},P=0;P<r.length;P++)D(P);else if("AMO"===S)for(var A=function(e){k=c[r[e]];for(var i=[],m=0;m<h;m++)oe(k,o,u,s,g,N,v,d,y,O,x,C).then((function(c){"success"===c.status?(i.push(c.data.oms_order_id),w[r[e]]=i,n.updateOrdersToDB("allorder",t,Object(X.a)({},a,w)),n.props.updateNotification({type:"success",message:"".concat(r[e]," : ").concat(l," : ").concat(c.message)},!0),n.updateNotificationList({type:"success",message:"".concat(r[e]," : ").concat(l," :  ").concat(c.message),time:a})):(n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order")},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  Error in placing order"),time:a}))})).catch((function(t){n.props.updateNotification({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t)},!0),n.updateNotificationList({type:"error",message:"".concat(r[e]," : ").concat(l," :  ").concat(t),time:a})}))},L=0;L<r.length;L++)A(L);else n.props.updateNotification({type:"error",message:"Fill up the required fields"},!0);n.updateOrdersToDB("orderscrip",t,Object(X.a)({},a,I)),n.setState({trailingsl:0,orderperac:1,price:0,quantity:1,disclosedquantity:0,triggerprice:0,target:0,stoploss:0})},n.orderSide=function(e){"BUY"===e.target.value?n.setState({orderSide:"SELL",sellSideClass:"sell",buySideClass:""}):"SELL"===e.target.value&&n.setState({orderSide:"BUY",buySideClass:"buy",sellSideClass:""})},n.updateFloatValue=function(e){Number(e.target.value)||e.target.value>=0?n.setState(Object(X.a)({},e.target.id,e.target.value)):""===e.target.value&&n.setState(Object(X.a)({},e.target.id,""))},n.updateIntValue=function(e){var t=parseFloat(e.target.value);t?n.setState(Object(X.a)({},e.target.id,t)):""===e.target.value&&n.setState(Object(X.a)({},e.target.id,""))},n.updateConditions=function(e){var t=e.target.id,a=e.target.value;switch(t){case"complexity":"CO"===a&&n.setState({position:"MIS",validity:"DAY",ordertype:"MARKET"}),"BO"===a&&n.setState({position:"MIS",validity:"DAY",ordertype:"LIMIT"})}n.setState(Object(X.a)({},e.target.id,e.target.value))},n.state={orderSide:"BUY",buySideClass:"buy",sellSideClass:"",trailingsl:0,orderperac:1,price:0,quantity:1,disclosedquantity:0,triggerprice:0,target:0,stoploss:0,complexity:"SIMPLE",ordertype:"MARKET",position:"CNC",validity:"DAY"},n}return Object(l.a)(a,[{key:"render",value:function(){var e="MARKET"===this.state.ordertype||"SLM"===this.state.ordertype,t="CO"!==this.state.complexity&&"BO"!==this.state.complexity,a="CO"===this.state.complexity||"BO"===this.state.complexity,n="SLM"!==this.state.ordertype&&"SL"!==this.state.ordertype,r="BO"!==this.state.complexity,s=Math.sign(this.context.ltp-this.context.lltp).toString(),o=this.context.change>=0?c.a.createElement(B.b,{className:"up"}):c.a.createElement(B.a,{className:"down"}),l="1"===this.context.exchangeCode||"2"===this.context.exchangeCode?"CNC":"NRML";return c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"ticker"},c.a.createElement("p",{className:"index"},this.context.symbol," ",c.a.createElement("small",{className:"exch"},this.context.exchange)),c.a.createElement("div",{className:"tick"},c.a.createElement("p",{className:"point","data-change":s},this.context.ltp),c.a.createElement("p",{className:"change"},"(",this.context.change," ",o,")"))),c.a.createElement("div",{className:"orderform"},c.a.createElement("div",{className:"topsection"},c.a.createElement("p",{className:"title"},"Order Entry"),c.a.createElement("div",{className:"orderside"},c.a.createElement("p",{className:"title "+this.state.buySideClass},"BUY"),c.a.createElement("label",{className:"switch"},c.a.createElement("input",{type:"checkbox",value:this.state.orderSide,onChange:this.orderSide}),c.a.createElement("span",{className:"slider round"})),c.a.createElement("p",{className:"title "+this.state.sellSideClass},"SELL"))),c.a.createElement("div",{className:"conditions"},c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"COMPLEXITY"),c.a.createElement("select",{className:"select",id:"complexity",onChange:this.updateConditions,value:this.state.complexity},c.a.createElement("option",{value:"SIMPLE"},"SIMPLE"),c.a.createElement("option",{value:"CO"},"CO"),c.a.createElement("option",{value:"BO"},"BO"),c.a.createElement("option",{value:"AMO"},"AMO"))),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"ORDER TYPE"),c.a.createElement("select",{className:"select",id:"ordertype",onChange:this.updateConditions,value:this.state.ordertype},"BO"!==this.state.complexity?c.a.createElement("option",{value:"MARKET"},"MARKET"):null,c.a.createElement("option",{value:"LIMIT"},"LIMIT"),"BO"===this.state.complexity||"AMO"===this.state.complexity||"SIMPLE"===this.state.complexity?c.a.createElement("option",{value:"SL"},"SL LIMIT"):null,"CO"!==this.state.complexity&&"BO"!==this.state.complexity?c.a.createElement("option",{value:"SLM"},"SL MKT"):null)),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"POSITION"),c.a.createElement("select",{className:"select",id:"position",onChange:this.updateConditions,disabled:a,value:this.state.position},a?null:c.a.createElement("option",{value:l},l),c.a.createElement("option",{value:"MIS"},"MIS"))),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"VALIDITY"),c.a.createElement("select",{className:"select",id:"validity",onChange:this.updateConditions,disabled:"CO"===this.state.complexity},c.a.createElement("option",{value:"DAY"},"DAY"),c.a.createElement("option",{value:"IOC"},"IOC"))),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"ORDER PER A/C"),c.a.createElement("input",{type:"text",className:"input",id:"orderperac",value:this.state.orderperac,onChange:this.updateIntValue}))),c.a.createElement("div",{className:"orderdetails"},c.a.createElement("div",{className:"block"},c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"QUANTITY"),c.a.createElement("input",{type:"text",className:"input",id:"quantity",value:this.state.quantity,onChange:this.updateIntValue})),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"STOP LOSS"),c.a.createElement("input",{type:"text",className:"input",id:"stoploss",value:this.state.stoploss,onChange:this.updateFloatValue,disabled:t,placeholder:t?0:""}))),c.a.createElement("div",{className:"block"},c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"PRICE"),c.a.createElement("input",{type:"text",className:"input",id:"price",value:this.state.price,onChange:this.updateFloatValue,disabled:e,placeholder:e?0:""})),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"TARGET"),c.a.createElement("input",{type:"text",className:"input",id:"target",value:this.state.target,onChange:this.updateFloatValue,disabled:r}))),c.a.createElement("div",{className:"block"},c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"DISCLOSED QUANTITY"),c.a.createElement("input",{type:"text",className:"input",id:"disclosedquantity",value:this.state.disclosedquantity,onChange:this.updateIntValue})),c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"TRIGGER PRICE"),c.a.createElement("input",{type:"text",className:"input",id:"triggerprice",value:this.state.triggerprice,onChange:this.updateFloatValue,disabled:n})))),c.a.createElement("div",{className:"placeorder"},c.a.createElement("div",{className:"box"},c.a.createElement("label",{className:"label"},"TRAILING SL"),c.a.createElement("input",{type:"text",className:"input",id:"trailingsl",value:this.state.trailingsl,onChange:this.updateFloatValue,disabled:r})),c.a.createElement("button",{className:"button box "+this.state.orderSide,onClick:this.placeOrder},"PLACE ",this.state.orderSide," ORDER"))))}}]),a}(n.PureComponent);ie.contextType=_;a(96);var de=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).addToActiveList=function(t){var a=Object(E.a)(e.context.activeClients);a.includes(t)||(a.push(t),e.context.updateData({activeClients:a}))},e.removeFromActiveList=function(t){var a=Object(E.a)(e.context.activeClients),n=a.indexOf(t);n>-1&&(a.splice(n,1),e.context.updateData({activeClients:a}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=[],a=function(a){var n=e.context.activeClients.includes(a);t.push(c.a.createElement("div",{className:"client",key:a},c.a.createElement("div",{className:"clientid"},c.a.createElement("p",null,a)),c.a.createElement("label",{className:"switch"},c.a.createElement("input",{type:"checkbox",value:n,onChange:n?function(){return e.removeFromActiveList(a)}:function(){return e.addToActiveList(a)}}),c.a.createElement("span",{className:"slider round"}))))};for(var n in this.context.clientsList)a(n);return c.a.createElement("div",{className:"clientslist"},t)}}]),a}(n.PureComponent);de.contextType=_;var ue=function(e){return c.a.createElement("div",{className:"infopanel"},c.a.createElement(K,null),c.a.createElement(ie,{updateNotification:e.updateNotification}),c.a.createElement(de,null))},me=(a(97),a(54)),pe=a.n(me),he=(a(42).default,pe()("2RSMIQ81PE","854bfa5ed0d1d25168d9ed4eb80396d0").initIndex("test_trading")),ve=function(){var e=Object(b.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.search(t,{attributesToRetrieve:["symbol","exchange_code","exchange","code"],hitsPerPage:50});case 2:return a=e.sent,n=a.hits,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchResult=function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.value.length>=3)){e.next=5;break}return e.next=3,ve(t.target.value);case 3:a=e.sent,n.setState({hits:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addWhichScrip=function(e,t,a){a<1?(J(n.state.hits[e],n.context),n.props.closeModal()):W(n.state.hits[e],t,n.context.ws)},n.removeWhichScrip=function(e,t){t.compactDataList.includes(n.state.hits[e].code)?G(n.state.hits[e],t,n.context.ws):Q(n.state.hits[e],n.context),n.props.closeModal()},n.state={hits:[],source:n.props.source},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(T.Consumer,null,(function(t){for(var a=[],n=function(n){a.push(c.a.createElement("div",{className:"block",key:n},c.a.createElement("div",{className:"symbol"},c.a.createElement("span",{className:"exchange"},"NSE"),e.state.hits[n].symbol),t.compactDataList.includes(e.state.hits[n].code)||e.context.orderInstrumentToken===e.state.hits[n].code?c.a.createElement("div",{className:"action remove",onClick:function(){return e.removeWhichScrip(n,t)}},"REMOVE"):c.a.createElement("div",{className:"action add",onClick:function(){return e.addWhichScrip(n,t,e.state.source)}},"ADD")))},r=0;r<e.state.hits.length;r++)n(r);return c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"close",onClick:e.props.closeModal},c.a.createElement(Y.e,null)),c.a.createElement("div",{className:"searchbar"},c.a.createElement("input",{type:"text",className:"searchbox",placeholder:"Enter at least 3 characters of symbol or name",onChange:e.fetchResult,autoFocus:!0})),c.a.createElement("div",{className:"results"},a))}))}}]),a}(n.PureComponent);ge.contextType=_;a(98);var fe=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).closeAddClientModal=function(){n.props.closeAddClientModal()},n.updateValue=function(e){var t;n.setState((t={},Object(X.a)(t,e.target.id,e.target.value),Object(X.a)(t,"error",!1),Object(X.a)(t,"success",!1),t))},n.login=function(){var e={clientid:n.state.clientid.trim(),password:n.state.password.trim(),secretkey:n.state.secretkey.trim(),twofa:n.state.twofa.trim()};e.clientid&&e.password&&e.secretkey&&e.twofa?(n.setState({logging:!0,error:!1}),se(e.clientid,e.secretkey,e.password,e.twofa).then((function(t){if("data"===t.type){localStorage.setItem(e.clientid,t.access_token);var a=Object(f.a)({},n.context.clientsList),c=Object(E.a)(n.context.activeClients);a[e.clientid]=t.access_token,c.includes(e.clientid)||c.push(e.clientid),n.context.updateData({clientsList:a,activeClients:c});var r=localStorage.getItem("clientslist");null!==r?((r=JSON.parse(r))[e.clientid]=e,localStorage.setItem("clientslist",JSON.stringify(r))):localStorage.setItem("clientslist",JSON.stringify(Object(X.a)({},e.clientid,e))),n.setState({success:!0,logging:!1,error:!1})}else"error"===t.type&&n.setState({logging:!1,error:!0,error_msg:t.msg+"!"})})).catch((function(e){n.setState({logging:!1,error:!0,error_msg:"Server not found!"})}))):n.setState({logging:!1,error:!0,error_msg:"All fields are required!"})},n.state={clientid:"",password:"",secretkey:"",twofa:"",logging:!1,error:!1,error_msg:"",success:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"addclientmodal"},c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"account"},c.a.createElement("label",{htmlFor:"clientid",className:"label"},"Client Id"),c.a.createElement("input",{type:"text",className:"input",id:"clientid",onChange:this.updateValue}),c.a.createElement("label",{htmlFor:"password",className:"label"},"Password"),c.a.createElement("input",{type:"password",className:"input",id:"password",onChange:this.updateValue}),c.a.createElement("label",{htmlFor:"secretkey",className:"label"},"Secret Key"),c.a.createElement("input",{type:"password",className:"input",id:"secretkey",onChange:this.updateValue}),c.a.createElement("label",{htmlFor:"twofa",className:"label"},"Two FA"),c.a.createElement("input",{type:"password",className:"input",id:"twofa",onChange:this.updateValue})),this.state.error&&!this.state.success?c.a.createElement("p",{className:"error"},this.state.error_msg):null,!this.state.error&&this.state.success?c.a.createElement("p",{className:"success"},"Success!"):null,c.a.createElement("div",{className:"actionbtn"},c.a.createElement("button",{className:"btn login",onClick:this.login,disabled:this.state.logging},this.state.logging?c.a.createElement("div",{className:"dotloader"},c.a.createElement("div",{className:"dot"}),c.a.createElement("div",{className:"dot"}),c.a.createElement("div",{className:"dot"})):"LOGIN"),c.a.createElement("button",{className:"btn cancel",onClick:this.closeAddClientModal,disabled:this.state.logging},"CANCEL"))))}}]),a}(n.Component);fe.contextType=_;a(22);var Ee=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={price:0,quantity:0,triggerprice:0,order_id:"",transaction_type:"BUY",symbol:"",exchange:"",instrument_token:"",product:"",order_type:"",validity:"",showModal:!1,client_token:""},e.updateFloatValue=function(t){Number(t.target.value)||t.target.value>=0?e.setState(Object(X.a)({},t.target.id,t.target.value)):""===t.target.value&&e.setState(Object(X.a)({},t.target.id,""))},e.updateIntValue=function(t){var a=parseFloat(t.target.value);a?e.setState(Object(X.a)({},t.target.id,a)):""===t.target.value&&e.setState(Object(X.a)({},t.target.id,""))},e.orderAction=function(t){var a=e.context.pendingOrders[e.context.selectedId];a=a[t],e.setState({price:a.price,quantity:a.quantity,triggerprice:a.trigger_price,transaction_type:a.transaction_type,order_id:a.oms_order_id,exchange:a.exchange,symbol:a.trading_symbol,instrument_token:a.instrument_token,product:a.product,validity:a.validity,order_type:a.order_type,showModal:!0,client_token:e.context.client_token})},e.closeModal=function(){e.setState({showModal:!1})},e.modifyOrder=function(){te(e.state.order_id,parseInt(e.state.instrument_token),e.state.exchange,e.state.transaction_type,e.state.product,e.state.validity,e.state.order_type,parseFloat(e.state.price),parseFloat(e.state.triggerprice),parseInt(e.state.quantity),e.state.client_token).then((function(t){"success"===t.status&&e.props.updateNotification({type:"success",message:"".concat(e.context.selectedId," : ").concat(e.state.symbol," :  Modify order request placed successfully")},!0),console.log(t)})).catch((function(t){e.props.updateNotification({type:"error",message:"".concat(e.context.selectedId," : ").concat(e.state.symbol," :  ").concat(t)},!0)})),e.setState({showModal:!1})},e.cancelOrder=function(){ee(e.state.order_id,e.state.client_token).then((function(t){"success"===t.status&&e.props.updateNotification({type:"success",message:"".concat(e.context.selectedId," : ").concat(e.state.symbol," :  Cancel order request placed successfully")},!0)})).catch((function(t){e.props.updateNotification({type:"error",message:"".concat(e.context.selectedId," : ").concat(e.state.symbol," :  ").concat(t)},!0)})),e.setState({showModal:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a=this,n=[],r="",s=0,o=this.context.pendingOrders[this.context.selectedId];if(o)for(var l=function(l){0!==(r=o[l].order_entry_time)&&(r=new Date(1e3*r),e=(e=r.getHours())>=0&&e<10?"0"+e:e,t=(t=r.getMinutes())>=0&&t<10?"0"+t:t,s=(s=r.getSeconds())>=0&&s<10?"0"+s:s,r="".concat(e,":").concat(t,":").concat(s)),n.push(c.a.createElement("div",{className:"orderinfo orderdata",key:l,onClick:function(){return a.orderAction(l)}},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].trading_symbol)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"exchg"},o[l].exchange)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"side "+o[l].transaction_type},o[l].transaction_type)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].filled_quantity,"/",o[l].quantity)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].price)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].product)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].order_type)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].trigger_price)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"pendingicon"},c.a.createElement(h.a,null))),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,r))))},i=0;i<o.length;i++)l(i);return c.a.createElement("div",{className:"pendingorders"},c.a.createElement("div",{className:"orderinfo orderinfoheading"},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SYMBOL")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"EXCH")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SIDE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"QUANTITY")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRODUCT")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"ORDER TYPE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TRIGGER PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"STATUS")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TIME"))),n,this.state.showModal?c.a.createElement("div",{className:"popup"},c.a.createElement("div",{className:"topline"},c.a.createElement("div",{className:"closebtn",onClick:this.closeModal},"X"),c.a.createElement("div",{className:"symbol "+this.state.transaction_type},this.state.symbol)),c.a.createElement("label",{htmlFor:"price",className:"price"},"Price"),c.a.createElement("input",{type:"text",value:this.state.price,id:"price",onChange:this.updateFloatValue}),c.a.createElement("label",{htmlFor:"quantity",className:"price"},"Quantity"),c.a.createElement("input",{type:"text",value:this.state.quantity,id:"quantity",onChange:this.updateIntValue}),c.a.createElement("label",{htmlFor:"triggerprice",className:"price"},"Trigger Price"),c.a.createElement("input",{type:"text",value:this.state.triggerprice,id:"triggerprice",onChange:this.updateFloatValue}),c.a.createElement("button",{className:"cancel",onClick:this.cancelOrder},"Cancel Order"),c.a.createElement("button",{className:"modify",onClick:this.modifyOrder},"Modify Order")):null)}}]),a}(n.PureComponent);Ee.contextType=A;var Ne=a(55),ye=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a=[],n="",r="",s=0,o=this.context.completedOrders[this.context.selectedId];if(o)for(var l=0;l<o.length;l++)n=o[l].order_status,0!==(r=o[l].order_entry_time)&&(e=(e=(r=new Date(1e3*r)).getHours())>=0&&e<10?"0"+e:e,t=(t=r.getMinutes())>=0&&t<10?"0"+t:t,s=(s=r.getSeconds())>=0&&s<10?"0"+s:s,r="".concat(e,":").concat(t,":").concat(s)),a.push(c.a.createElement("div",{className:"orderinfo orderdata",key:l},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].trading_symbol)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"exchg"},o[l].exchange)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"side "+o[l].transaction_type},o[l].transaction_type)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].filled_quantity,"/",o[l].quantity)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].price)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].product)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].order_type)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,o[l].trigger_price)),c.a.createElement("div",{className:"vals"},"rejected"===n?c.a.createElement("p",{className:"rejectedicon"},c.a.createElement(Y.e,null)):c.a.createElement("p",{className:"completedicon"},c.a.createElement(Ne.a,null))),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,r))));return c.a.createElement("div",{className:"pendingorders"},c.a.createElement("div",{className:"orderinfo orderinfoheading"},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SYMBOL")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"EXCH")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SIDE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"QUANTITY")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRODUCT")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"ORDER TYPE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TRIGGER PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"STATUS")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TIME"))),a)}}]),a}(n.PureComponent);ye.contextType=A;var be=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a=[],n="",r=0,s=this.context.trades[this.context.selectedId];if(s)for(var o=0;o<s.length;o++)0!==(n=s[o].order_entry_time)&&(e=(e=(n=new Date(1e3*n)).getHours())>=0&&e<10?"0"+e:e,t=(t=n.getMinutes())>=0&&t<10?"0"+t:t,r=(r=n.getSeconds())>=0&&r<10?"0"+r:r,n="".concat(e,":").concat(t,":").concat(r)),a.push(c.a.createElement("div",{className:"orderinfo orderdata",key:o},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,s[o].trading_symbol)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"exchg"},s[o].exchange)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"side "+s[o].transaction_type},s[o].transaction_type)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,s[o].filled_quantity)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,s[o].price)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,s[o].product)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,n))));return c.a.createElement("div",{className:"pendingorders trades"},c.a.createElement("div",{className:"orderinfo orderinfoheading"},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SYMBOL")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"EXCH")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SIDE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"QUANTITY")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRODUCT")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TIME"))),a)}}]),a}(n.PureComponent);be.contextType=A;a(99);var xe=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={selectedId:""},e.idSelected=function(){var t=Object(b.a)(y.a.mark((function t(a,n){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.context.clientsList[a],e.setState({selectedId:a}),t.next=4,n.updateData({selectedId:a,client_token:c});case 4:e.getOrderBook(n),e.getTradeBook(n);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getOrderBook=function(t){var a=Object(f.a)({},t.pendingOrders),n=Object(f.a)({},t.completedOrders);ae(e.context.clientsList[e.state.selectedId]).then((function(c){"success"===c.status&&(a[e.state.selectedId]=c.data.pending_orders,n[e.state.selectedId]=c.data.completed_orders,t.updateData({pendingOrders:a,completedOrders:n}))})).catch((function(e){return console.log(e)}))},e.getTradeBook=function(t){var a=Object(f.a)({},t.trades);ne(e.context.clientsList[e.state.selectedId]).then((function(n){"success"===n.status&&(a[e.state.selectedId]=n.data.trades,t.updateData({trades:a}))})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(A.Consumer,null,(function(t){var a=[],n=function(n){a.push(c.a.createElement("div",{key:n,className:e.state.selectedId===n||t.selectedId===n?"clientId ac":"clientId",onClick:function(){return e.idSelected(n,t)}},n))};for(var r in e.context.clientsList)n(r);return c.a.createElement("div",{className:"clientlist"},a)}))}}]),a}(n.Component);xe.contextType=_;var Oe=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ordertypesection:"0"},e.changeOrderTypeSection=function(t){e.setState({ordertypesection:t.target.id})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=[c.a.createElement(Ee,{updateNotification:this.props.updateNotification}),c.a.createElement(ye,null),c.a.createElement(be,null)];return c.a.createElement("div",{className:"orderbook"},c.a.createElement(xe,null),c.a.createElement("div",{className:"headbar"},c.a.createElement("div",{className:"ordertypes"},c.a.createElement("p",{className:"0"===this.state.ordertypesection?"text ul":"text",onClick:this.changeOrderTypeSection,id:"0"},"Pending (",void 0!==this.context.pendingOrders[this.context.selectedId]?this.context.pendingOrders[this.context.selectedId].length:0,")"),c.a.createElement("p",{className:"1"===this.state.ordertypesection?"text ul":"text",onClick:this.changeOrderTypeSection,id:"1"},"Completed (",void 0!==this.context.completedOrders[this.context.selectedId]?this.context.completedOrders[this.context.selectedId].length:0,")"),c.a.createElement("p",{className:"2"===this.state.ordertypesection?"text ul":"text",onClick:this.changeOrderTypeSection,id:"2"},"Trades (",void 0!==this.context.trades[this.context.selectedId]?this.context.trades[this.context.selectedId].length:0,")"))),c.a.createElement("div",{className:"ordertypesection"},e[this.state.ordertypesection]))}}]),a}(n.PureComponent);Oe.contextType=A;a(100);var Se=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"notifycard"},c.a.createElement("div",{className:"notificationcard "+this.props.notification.type},this.props.notification.message))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return setTimeout((function(){e.updateNotification("",!1)}),2500),null}}]),a}(n.Component),ke=(a(101),function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){for(var e,t,a,n=[],r="",s=0;s<this.context.notification.length;s++)t=(t=(e=new Date(Number(this.context.notification[s].time))).getHours())>=0&&t<10?"0"+t:t,a=(a=e.getMinutes())>=0&&a<10?"0"+a:a,r=(r=e.getSeconds())>=0&&r<10?"0"+r:r,e="".concat(t,":").concat(a,":").concat(r),n.push(c.a.createElement("p",{className:"notification "+this.context.notification[s].type,key:s},this.context.notification[s].message," ",c.a.createElement("br",null),c.a.createElement("span",{className:"time"},e)));return c.a.createElement("div",{className:"notificationlist"},c.a.createElement("p",{className:"title"},"NOTIFICATION"),n)}}]),a}(n.Component));ke.contextType=_;var Ce=a(26),we=q.firestore(),Ie=new Date,je="".concat(Ie.getFullYear(),"_").concat(Ie.getMonth()+1,"_").concat(Ie.getDate()),_e=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=we.collection("allorder").doc(je),t=we.collection("orderscrip").doc(je),a=Object(Ce.a)(n);e.onSnapshot((function(e){a.setState({allorder:e.data()})})),t.onSnapshot((function(e){a.setState({orderscrip:e.data()})}))},n.updateFloatValue=function(e){Number(e.target.value)||e.target.value>=0?n.setState(Object(X.a)({},e.target.id,e.target.value)):""===e.target.value&&n.setState(Object(X.a)({},e.target.id,""))},n.updateIntValue=function(e){var t=parseFloat(e.target.value);t?n.setState(Object(X.a)({},e.target.id,t)):""===e.target.value&&n.setState(Object(X.a)({},e.target.id,""))},n.orderAction=function(e){var t=n.state.orderscrip[e];n.setState({ordernumber:e,price:t.price,quantity:t.quantity,transaction_type:t.side,symbol:t.symbol,showModal:!0,instrument_token:t.token,triggerprice:t.triggerprice,exchange:t.exchange,product:t.product,validity:t.validity,order_type:t.order_type})},n.closeModal=function(){n.setState({showModal:!1})},n.modifyOrder=function(){var e=n.state.allorder[n.state.ordernumber],t=function(t){for(var a=e[t],c=n.context.clientsList[t],r=0;r<a.length;r++)te(a[r],parseInt(n.state.instrument_token),n.state.exchange,n.state.transaction_type,n.state.product,n.state.validity,n.state.order_type,parseFloat(n.state.price),parseFloat(n.state.triggerprice),parseInt(n.state.quantity),c).then((function(e){"success"===e.status&&n.props.updateNotification({type:"success",message:"".concat(t," : ").concat(n.state.symbol," :  Modify order request placed successfully")},!0),console.log(e)})).catch((function(e){n.props.updateNotification({type:"error",message:"".concat(t," : ").concat(n.state.symbol," :  ").concat(e)},!0)}))};for(var a in e)t(a);n.setState({showModal:!1})},n.cancelOrder=function(){var e=n.state.allorder[n.state.ordernumber],t=function(t){for(var a=e[t],c=n.context.clientsList[t],r=0;r<a.length;r++)ee(a[r],c).then((function(e){"success"===e.status&&n.props.updateNotification({type:"success",message:"".concat(t," : ").concat(n.state.symbol," :  Cancel order request placed successfully")},!0)})).catch((function(e){n.props.updateNotification({type:"error",message:"".concat(t," : ").concat(n.state.symbol," :  ").concat(e)},!0)}))};for(var a in e)t(a);var c=we.collection("allorder").doc(je),r=we.collection("orderscrip").doc(je);c.update(Object(X.a)({},n.state.ordernumber,q.firestore.FieldValue.delete())),r.update(Object(X.a)({},n.state.ordernumber,q.firestore.FieldValue.delete())),n.setState({showModal:!1})},n.state={orderscrip:"",allorder:"",price:0,quantity:0,transaction_type:"BUY",symbol:"",showModal:!1,instrument_token:"",triggerprice:0,ordernumber:"",exchange:"",product:"",validity:"",order_type:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a=this,n=[],r="",s=0,o=this.state.allorder,l=this.state.orderscrip;if(o&&l){var i=function(o){0!==(r=o)&&(r=new Date(parseInt(r)),e=(e=r.getHours())>=0&&e<10?"0"+e:e,t=(t=r.getMinutes())>=0&&t<10?"0"+t:t,s=(s=r.getSeconds())>=0&&s<10?"0"+s:s,r="".concat(e,":").concat(t,":").concat(s)),n.push(c.a.createElement("div",{className:"orderinfo orderdata",key:o,onClick:function(){return a.orderAction(o)}},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,l[o].symbol)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"exchg"},l[o].exchange)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",{className:"side "+l[o].side},l[o].side)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,l[o].quantity)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,l[o].price)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,l[o].triggerprice)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,l[o].product)),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,r))))};for(var d in o)i(d)}return c.a.createElement("div",{className:"pendingorders trades",style:{marginRight:"10px"}},c.a.createElement("div",{className:"orderinfo orderinfoheading"},c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SYMBOL")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"EXCH")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"SIDE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"QUANTITY")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TRIGGER PRICE")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"PRODUCT")),c.a.createElement("div",{className:"vals"},c.a.createElement("p",null,"TIME"))),n,this.state.showModal?c.a.createElement("div",{className:"popup"},c.a.createElement("div",{className:"topline"},c.a.createElement("div",{className:"closebtn",onClick:this.closeModal},"X"),c.a.createElement("div",{className:"symbol "+this.state.transaction_type},this.state.symbol)),c.a.createElement("label",{htmlFor:"price",className:"price"},"Price"),c.a.createElement("input",{type:"text",value:this.state.price,id:"price",onChange:this.updateFloatValue}),c.a.createElement("label",{htmlFor:"quantity",className:"price"},"Quantity"),c.a.createElement("input",{type:"text",value:this.state.quantity,id:"quantity",onChange:this.updateIntValue}),c.a.createElement("label",{htmlFor:"triggerprice",className:"price"},"Trigger Price"),c.a.createElement("input",{type:"text",value:this.state.triggerprice,id:"triggerprice",onChange:this.updateFloatValue}),c.a.createElement("button",{className:"cancel",onClick:this.cancelOrder},"Cancel Order"),c.a.createElement("button",{className:"modify",onClick:this.modifyOrder},"Modify Order")):null)}}]),a}(n.PureComponent);_e.contextType=_;var Me=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isLoading:!0,openModal:!1,source:"",openAddClientModal:!1,menuState:0,notification:"",notify:!1,showNotification:!1},e.componentDidMount=function(){e.setState({isLoading:!1})},e.updateNotification=function(t,a){e.setState({notification:t,notify:a})},e.showNotification=function(){e.setState({showNotification:!e.state.showNotification})},e.openRoute=function(t){e.setState({menuState:t})},e.openModal=function(t){e.setState({openModal:!e.state.openModal,source:t})},e.openAddClientModal=function(){e.setState({openAddClientModal:!e.state.openAddClientModal})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=[c.a.createElement(ue,{updateNotification:this.updateNotification}),c.a.createElement(Oe,{updateNotification:this.updateNotification}),c.a.createElement(_e,{updateNotification:this.updateNotification})];return this.state.isLoading?c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"LoaderBalls"},c.a.createElement("div",{className:"LoaderBalls__item"}),c.a.createElement("div",{className:"LoaderBalls__item"}),c.a.createElement("div",{className:"LoaderBalls__item"}))):c.a.createElement("div",{className:"app"},c.a.createElement(g,{openRoute:this.openRoute,showNotification:this.showNotification}),c.a.createElement(M,null,c.a.createElement(D,null,c.a.createElement(L,null,c.a.createElement(P,null,this.state.showNotification?c.a.createElement(ke,null):null,this.state.openModal?c.a.createElement(ge,{closeModal:this.openModal,source:this.state.source}):null,this.state.openAddClientModal?c.a.createElement(fe,{closeAddClientModal:this.openAddClientModal}):null,c.a.createElement(U,{openModal:this.openModal,openAddClientModal:this.openAddClientModal}),c.a.createElement(z,{openModal:this.openModal}),e[this.state.menuState],this.state.notify&&this.state.notification?c.a.createElement(Se,{notification:this.state.notification,updateNotification:this.updateNotification}):null)))))}}]),a}(n.PureComponent),Te=(a(102),Object(n.createContext)()),De=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={user:"",checking:!0,updateData:function(t){e.setState(t)}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;q.auth().onAuthStateChanged((function(t){t?null!=t&&e.setState({user:t,checking:!1}):e.setState({user:"",checking:!1})}))}},{key:"render",value:function(){return c.a.createElement(Te.Provider,{value:Object(f.a)({},this.state)},this.props.children)}}]),a}(n.Component),Pe=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).signin=function(){e.context.updateData({checking:!0});var t=new q.auth.GoogleAuthProvider;t.addScope("https://www.googleapis.com/auth/userinfo.profile"),q.auth().signInWithPopup(t).then((function(e){var t=e.credential.accessToken,a=e.user.providerData[0];localStorage.setItem("authtoken",t),localStorage.setItem("userdata",JSON.stringify(a))})).catch((function(e){alert(e)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.context.checking?c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"LoaderBalls"},c.a.createElement("div",{className:"LoaderBalls__item"}),c.a.createElement("div",{className:"LoaderBalls__item"}),c.a.createElement("div",{className:"LoaderBalls__item"}))):c.a.createElement("div",null,c.a.createElement("h1",{className:"tradingtitle"},"TRADING APP"),c.a.createElement("button",{type:"button",className:"google-button",onClick:this.signin},c.a.createElement("span",{className:"google-button__icon"},c.a.createElement("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),c.a.createElement("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),c.a.createElement("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),c.a.createElement("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"}))),c.a.createElement("span",{className:"google-button__text"},"Sign in with Google")))}}]),a}(n.Component);Pe.contextType=Te;var Ae=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(u.a,null,c.a.createElement(m.b,{path:"/",render:function(){return e.context.user?c.a.createElement(m.a,{to:"/"}):c.a.createElement(m.a,{to:"/signin"})}}),c.a.createElement(m.b,{exact:!0,path:"/signin"},c.a.createElement(Pe,null)),c.a.createElement(m.b,{exact:!0,path:"/"},c.a.createElement(Me,null)))}}]),a}(n.Component);Ae.contextType=Te;var Le=Ae;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(De,null,c.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},56:function(e,t,a){e.exports=a(103)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.79d5362d.chunk.js.map